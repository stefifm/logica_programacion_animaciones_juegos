<canvas width="600" height="400"></canvas>

<script>

  function dibujarRectangulo(x, y, base, altura, color) {
    const pantalla = document.querySelector("canvas");
    const pincel = pantalla.getContext("2d");

    pincel.fillStyle = color;
    pincel.fillRect(x, y, base, altura);
    pincel.strokeStyle = "black";
    pincel.strokeRect(x, y, base, altura);
  }

  function escribirTexto(x, y, texto) {
    const pantalla = document.querySelector("canvas");
    const pincel = pantalla.getContext("2d");

    pincel.font = "15px Georgia";
    pincel.fillStyle = "black";
    pincel.fillText(texto, x, y);
  }


  function dibujarBarra(x, y, series, colores, texto) {

    escribirTexto(x, y - 10, texto);
    let acumulador = 0;
    for (let i = 0; i < series.length; i++) {
      let altura = series[i];
      dibujarRectangulo(x, y + acumulador, 50, altura, colores[i]);
      acumulador = acumulador + altura

    }

  }

  const serie2009 = [6, 47, 41, 3, 3];
  const serie2019 = [81, 9, 3, 3, 4];
  const colores = ["blue", "green", "yellow", "red", "gray"];

  dibujarBarra(50, 50, serie2009, colores, "2009");
  dibujarBarra(150, 50, serie2019, colores, "2019");

</script>